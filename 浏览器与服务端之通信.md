# 通信

浏览器（客户端）与服务端通信方式总结如下几种：
+  HTTP（一次性）
+  HTTPS（一次性）
+  轮询（定时）
+  SSE（单向即时）
+  WebSocket（双向即时）

### 1. HTTP

### 2. HTTPS

### 3. 轮询

### 4. SSE
+  Server-Sent Events（SSE），基于 HTTP 的技术，允许服务器向客户端单向发送数据流，适用于不需要客户端响应的场景。
+  原理
+  

### 5. WebSocket
+  允许在单个TCP连接上进行**全双工通信**，适用于高频双向数据交换场景。
+  原理
  *  握手阶段：客户端通过发送一个包含 Upgrade: websocket 头的HTTP请求来初始化WebSocket连接。服务端响应 101 Switching Protocols 状态码，确认升级。
  *  数据传输：连接建立后，客户端和服务端可以自由发送和接收数据。
+  代码示例
  ```
    // 创建 WebSocket 连接
    const socket = new WebSocket("ws://www.example.com/socketserver");
    // 连接建立时的处理
    socket.onopen = function (event) {
      // 发送消息
      socket.send("Hello, Server!");
    }
    // 接收消息
    socket.onmessage = function (event) {
      console.log("Received message: ", event.data);
    }
  ```


